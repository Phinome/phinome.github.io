<p><img src="https://raw.github.com/hapijs/boom/master/images/boom.png" alt="boom Logo"></p>
<p>HTTP-friendly error objects</p>
<p><a href="http://travis-ci.org/hapijs/boom"><img src="https://secure.travis-ci.org/hapijs/boom.png" alt="Build Status"></a></p>
<p>Lead Maintainer: <a href="https://github.com/arb">Adam Bretz</a></p>
<p><strong>boom</strong> provides a set of utilities for returning HTTP errors. Each utility returns a <code>Boom</code> error response<br>object (instance of <code>Error</code>) which includes the following properties:</p>
<ul>
<li><code>isBoom</code> - if <code>true</code>, indicates this is a <code>Boom</code> object instance.</li>
<li><code>isServer</code> - convenience bool indicating status code &gt;= 500.</li>
<li><code>message</code> - the error message.</li>
<li><code>output</code> - the formatted response. Can be directly manipulated after object construction to return a custom<br>error response. Allowed root keys:<ul>
<li><code>statusCode</code> - the HTTP status code (typically 4xx or 5xx).</li>
<li><code>headers</code> - an object containing any HTTP headers where each key is a header name and value is the header content.</li>
<li><code>payload</code> - the formatted object used as the response payload (stringified). Can be directly manipulated but any<br>changes will be lost<br>if <code>reformat()</code> is called. Any content allowed and by default includes the following content:<ul>
<li><code>statusCode</code> - the HTTP status code, derived from <code>error.output.statusCode</code>.</li>
<li><code>error</code> - the HTTP status message (e.g. ‘Bad Request’, ‘Internal Server Error’) derived from <code>statusCode</code>.</li>
<li><code>message</code> - the error message derived from <code>error.message</code>.</li>
</ul>
</li>
</ul>
</li>
<li>inherited <code>Error</code> properties.</li>
</ul>
<p>The <code>Boom</code> object also supports the following method:</p>
<ul>
<li><code>reformat()</code> - rebuilds <code>error.output</code> using the other object properties.</li>
</ul>
<h2 id="Helper_Methods">Helper Methods</h2><h3 id="wrap(error,_[statusCode],_[message])"><code>wrap(error, [statusCode], [message])</code></h3><p>Decorates an error with the <strong>boom</strong> properties where:</p>
<ul>
<li><code>error</code> - the error object to wrap. If <code>error</code> is already a <strong>boom</strong> object, returns back the same object.</li>
<li><code>statusCode</code> - optional HTTP status code. Defaults to <code>500</code>.</li>
<li><code>message</code> - optional message string. If the error already has a message, it adds the message as a prefix.<br>Defaults to no message.</li>
</ul>
<pre><code class="js"><span class="keyword">var</span> error = <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Unexpected input'</span>);
Boom.wrap(error, <span class="number">400</span>);
</code></pre>
<h3 id="create(statusCode,_[message],_[data])"><code>create(statusCode, [message], [data])</code></h3><p>Generates an <code>Error</code> object with the <strong>boom</strong> decorations where:</p>
<ul>
<li><code>statusCode</code> - an HTTP error code number. Must be greater or equal 400.</li>
<li><code>message</code> - optional message string.</li>
<li><code>data</code> - additional error data set to <code>error.data</code> property.</li>
</ul>
<pre><code class="js"><span class="keyword">var</span> error = Boom.create(<span class="number">400</span>, <span class="string">'Bad request'</span>, { timestamp: <span class="built_in">Date</span>.now() });
</code></pre>
<h2 id="HTTP_4xx_Errors">HTTP 4xx Errors</h2><h3 id="Boom-badRequest([message],_[data])"><code>Boom.badRequest([message], [data])</code></h3><p>Returns a 400 Bad Request error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.badRequest(<span class="string">'invalid query'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">400</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Bad Request"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"invalid query"</span>
</span>}
</code></pre>
<h3 id="Boom-unauthorized([message],_[scheme],_[attributes])"><code>Boom.unauthorized([message], [scheme], [attributes])</code></h3><p>Returns a 401 Unauthorized error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>scheme</code> can be one of the following:<ul>
<li>an authentication scheme name</li>
<li>an array of string values. These values will be separated by ‘, ‘ and set to the ‘WWW-Authenticate’ header.</li>
</ul>
</li>
<li><code>attributes</code> - an object of values to use while setting the ‘WWW-Authenticate’ header. This value is only used when <code>schema</code> is a string, otherwise it is ignored. Every key/value pair will be included in the ‘WWW-Authenticate’ in the format of ‘key=”value”‘. <code>null</code> and <code>undefined</code> will be replaced with an empty string. If <code>attributes</code> is set, <code>message</code> will be used as the ‘error’ segment of the ‘WWW-Authenticate’ header. If <code>message</code> is unset, the ‘error’ segment of the header will not be present and <code>isMissing</code> will be true on the error object.</li>
</ul>
<p>If either <code>scheme</code> or <code>attributes</code> are set, the resultant <code>Boom</code> object will have the ‘WWW-Authenticate’ header set for the response.</p>
<pre><code class="js">Boom.unauthorized(<span class="string">'invalid password'</span>);
</code></pre>
<p>Generates the following response:</p>
<pre><code class="json">&quot;payload&quot;: {
    &quot;statusCode&quot;: 401,
    &quot;error&quot;: &quot;Unauthorized&quot;,
    &quot;message&quot;: &quot;invalid password&quot;
},
&quot;headers&quot; {}
</code></pre>
<pre><code class="js">Boom.unauthorized(<span class="string">'invalid password'</span>, <span class="string">'sample'</span>);
</code></pre>
<p>Generates the following response:</p>
<pre><code class="json">&quot;payload&quot;: {
    &quot;statusCode&quot;: 401,
    &quot;error&quot;: &quot;Unauthorized&quot;,
    &quot;message&quot;: &quot;invalid password&quot;
},
&quot;headers&quot; {
  &quot;WWW-Authenticate&quot;: &quot;sample error=\&quot;invalid password\&quot;&quot;
}
</code></pre>
<pre><code class="js">Boom.unauthorized(<span class="string">'invalid password'</span>, <span class="string">'sample'</span>, { ttl: <span class="number">0</span>, cache: <span class="literal">null</span>, foo: <span class="string">'bar'</span> });
</code></pre>
<p>Generates the following response:</p>
<pre><code class="json">&quot;payload&quot;: {
    &quot;statusCode&quot;: 401,
    &quot;error&quot;: &quot;Unauthorized&quot;,
    &quot;message&quot;: &quot;invalid password&quot;
},
&quot;headers&quot; {
  &quot;WWW-Authenticate&quot;: &quot;sample ttl=\&quot;0\&quot;, cache=\&quot;\&quot;, foo=\&quot;bar\&quot;, error=\&quot;invalid password\&quot;&quot;
}
</code></pre>
<h3 id="Boom-forbidden([message],_[data])"><code>Boom.forbidden([message], [data])</code></h3><p>Returns a 403 Forbidden error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.forbidden(<span class="string">'try again some time'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">403</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Forbidden"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"try again some time"</span>
</span>}
</code></pre>
<h3 id="Boom-notFound([message],_[data])"><code>Boom.notFound([message], [data])</code></h3><p>Returns a 404 Not Found error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.notFound(<span class="string">'missing'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">404</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Not Found"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"missing"</span>
</span>}
</code></pre>
<h3 id="Boom-methodNotAllowed([message],_[data])"><code>Boom.methodNotAllowed([message], [data])</code></h3><p>Returns a 405 Method Not Allowed error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.methodNotAllowed(<span class="string">'that method is not allowed'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">405</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Method Not Allowed"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"that method is not allowed"</span>
</span>}
</code></pre>
<h3 id="Boom-notAcceptable([message],_[data])"><code>Boom.notAcceptable([message], [data])</code></h3><p>Returns a 406 Not Acceptable error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.notAcceptable(<span class="string">'unacceptable'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">406</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Not Acceptable"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"unacceptable"</span>
</span>}
</code></pre>
<h3 id="Boom-proxyAuthRequired([message],_[data])"><code>Boom.proxyAuthRequired([message], [data])</code></h3><p>Returns a 407 Proxy Authentication Required error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.proxyAuthRequired(<span class="string">'auth missing'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">407</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Proxy Authentication Required"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"auth missing"</span>
</span>}
</code></pre>
<h3 id="Boom-clientTimeout([message],_[data])"><code>Boom.clientTimeout([message], [data])</code></h3><p>Returns a 408 Request Time-out error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.clientTimeout(<span class="string">'timed out'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">408</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Request Time-out"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"timed out"</span>
</span>}
</code></pre>
<h3 id="Boom-conflict([message],_[data])"><code>Boom.conflict([message], [data])</code></h3><p>Returns a 409 Conflict error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.conflict(<span class="string">'there was a conflict'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">409</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Conflict"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"there was a conflict"</span>
</span>}
</code></pre>
<h3 id="Boom-resourceGone([message],_[data])"><code>Boom.resourceGone([message], [data])</code></h3><p>Returns a 410 Gone error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.resourceGone(<span class="string">'it is gone'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">410</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Gone"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"it is gone"</span>
</span>}
</code></pre>
<h3 id="Boom-lengthRequired([message],_[data])"><code>Boom.lengthRequired([message], [data])</code></h3><p>Returns a 411 Length Required error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.lengthRequired(<span class="string">'length needed'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">411</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Length Required"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"length needed"</span>
</span>}
</code></pre>
<h3 id="Boom-preconditionFailed([message],_[data])"><code>Boom.preconditionFailed([message], [data])</code></h3><p>Returns a 412 Precondition Failed error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.preconditionFailed();
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">412</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Precondition Failed"</span>
</span>}
</code></pre>
<h3 id="Boom-entityTooLarge([message],_[data])"><code>Boom.entityTooLarge([message], [data])</code></h3><p>Returns a 413 Request Entity Too Large error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.entityTooLarge(<span class="string">'too big'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">413</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Request Entity Too Large"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"too big"</span>
</span>}
</code></pre>
<h3 id="Boom-uriTooLong([message],_[data])"><code>Boom.uriTooLong([message], [data])</code></h3><p>Returns a 414 Request-URI Too Large error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.uriTooLong(<span class="string">'uri is too long'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">414</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Request-URI Too Large"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"uri is too long"</span>
</span>}
</code></pre>
<h3 id="Boom-unsupportedMediaType([message],_[data])"><code>Boom.unsupportedMediaType([message], [data])</code></h3><p>Returns a 415 Unsupported Media Type error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.unsupportedMediaType(<span class="string">'that media is not supported'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">415</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Unsupported Media Type"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"that media is not supported"</span>
</span>}
</code></pre>
<h3 id="Boom-rangeNotSatisfiable([message],_[data])"><code>Boom.rangeNotSatisfiable([message], [data])</code></h3><p>Returns a 416 Requested Range Not Satisfiable error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.rangeNotSatisfiable();
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">416</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Requested Range Not Satisfiable"</span>
</span>}
</code></pre>
<h3 id="Boom-expectationFailed([message],_[data])"><code>Boom.expectationFailed([message], [data])</code></h3><p>Returns a 417 Expectation Failed error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.expectationFailed(<span class="string">'expected this to work'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">417</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Expectation Failed"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"expected this to work"</span>
</span>}
</code></pre>
<h3 id="Boom-badData([message],_[data])"><code>Boom.badData([message], [data])</code></h3><p>Returns a 422 Unprocessable Entity error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.badData(<span class="string">'your data is bad and you should feel bad'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">422</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Unprocessable Entity"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"your data is bad and you should feel bad"</span>
</span>}
</code></pre>
<h3 id="Boom-tooManyRequests([message],_[data])"><code>Boom.tooManyRequests([message], [data])</code></h3><p>Returns a 429 Too Many Requests error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.tooManyRequests(<span class="string">'you have exceeded your request limit'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">429</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Too Many Requests"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"you have exceeded your request limit"</span>
</span>}
</code></pre>
<h2 id="HTTP_5xx_Errors">HTTP 5xx Errors</h2><p>All 500 errors hide your message from the end user. Your message is recorded in the server log.</p>
<h3 id="Boom-notImplemented([message],_[data])"><code>Boom.notImplemented([message], [data])</code></h3><p>Returns a 501 Not Implemented error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.notImplemented(<span class="string">'method not implemented'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">501</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Not Implemented"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"method not implemented"</span>
</span>}
</code></pre>
<h3 id="Boom-badGateway([message],_[data])"><code>Boom.badGateway([message], [data])</code></h3><p>Returns a 502 Bad Gateway error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.badGateway(<span class="string">'that is a bad gateway'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">502</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Bad Gateway"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"that is a bad gateway"</span>
</span>}
</code></pre>
<h3 id="Boom-serverTimeout([message],_[data])"><code>Boom.serverTimeout([message], [data])</code></h3><p>Returns a 503 Service Unavailable error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.serverTimeout(<span class="string">'unavailable'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">503</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Service Unavailable"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"unavailable"</span>
</span>}
</code></pre>
<h3 id="Boom-gatewayTimeout([message],_[data])"><code>Boom.gatewayTimeout([message], [data])</code></h3><p>Returns a 504 Gateway Time-out error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.gatewayTimeout();
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">504</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Gateway Time-out"</span>
</span>}
</code></pre>
<h3 id="Boom-badImplementation([message],_[data])"><code>Boom.badImplementation([message], [data])</code></h3><p>Returns a 500 Internal Server Error error where:</p>
<ul>
<li><code>message</code> - optional message.</li>
<li><code>data</code> - optional additional error data.</li>
</ul>
<pre><code class="js">Boom.badImplementation(<span class="string">'terrible implementation'</span>);
</code></pre>
<p>Generates the following response payload:</p>
<pre><code class="json">{
    "<span class="attribute">statusCode</span>": <span class="value"><span class="number">500</span></span>,
    "<span class="attribute">error</span>": <span class="value"><span class="string">"Internal Server Error"</span></span>,
    "<span class="attribute">message</span>": <span class="value"><span class="string">"An internal server error occurred"</span>
</span>}
</code></pre>
