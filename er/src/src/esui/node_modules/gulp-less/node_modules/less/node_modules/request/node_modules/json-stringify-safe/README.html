<h1 id="json-stringify-safe">json-stringify-safe</h1><p>Like JSON.stringify, but doesn’t throw on circular references.</p>
<h2 id="Usage">Usage</h2><p>Takes the same arguments as <code>JSON.stringify</code>.</p>
<pre><code class="javascript"><span class="keyword">var</span> stringify = <span class="built_in">require</span>(<span class="string">'json-stringify-safe'</span>);
<span class="keyword">var</span> circularObj = {};
circularObj.circularRef = circularObj;
circularObj.list = [ circularObj, circularObj ];
<span class="built_in">console</span>.log(stringify(circularObj, <span class="literal">null</span>, <span class="number">2</span>));
</code></pre>
<p>Output:</p>
<pre><code class="json">{
  "<span class="attribute">circularRef</span>": <span class="value"><span class="string">"[Circular]"</span></span>,
  "<span class="attribute">list</span>": <span class="value">[
    <span class="string">"[Circular]"</span>,
    <span class="string">"[Circular]"</span>
  ]
</span>}
</code></pre>
<h2 id="Details">Details</h2><pre><code><span class="function"><span class="title">stringify</span><span class="params">(obj, serializer, indent, decycler)</span></span>
</code></pre><p>The first three arguments are the same as to JSON.stringify.  The last<br>is an argument that’s only used when the object has been seen already.</p>
<p>The default <code>decycler</code> function returns the string <code>&#39;[Circular]&#39;</code>.<br>If, for example, you pass in <code>function(k,v){}</code> (return nothing) then it<br>will prune cycles.  If you pass in <code>function(k,v){ return {foo: &#39;bar&#39;}}</code>,<br>then cyclical objects will always be represented as <code>{&quot;foo&quot;:&quot;bar&quot;}</code> in<br>the result.</p>
<pre><code>stringify.<span class="function"><span class="title">getSerialize</span><span class="params">(serializer, decycler)</span></span>
</code></pre><p>Returns a serializer that can be used elsewhere.  This is the actual<br>function that’s passed to JSON.stringify.</p>
<p><strong>Note</strong> that the function returned from <code>getSerialize</code> is stateful for now, so<br>do <strong>not</strong> use it more than once.</p>
