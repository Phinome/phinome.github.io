<h1 id="semver(1)_—_The_semantic_versioner_for_npm">semver(1) — The semantic versioner for npm</h1><h2 id="Usage">Usage</h2><pre><code>$ npm install semver

semver.<span class="function"><span class="title">valid</span><span class="params">(<span class="string">'1.2.3'</span>)</span></span> <span class="comment">// '1.2.3'</span>
semver.<span class="function"><span class="title">valid</span><span class="params">(<span class="string">'a.b.c'</span>)</span></span> <span class="comment">// null</span>
semver.<span class="function"><span class="title">clean</span><span class="params">(<span class="string">'  =v1.2.3   '</span>)</span></span> <span class="comment">// '1.2.3'</span>
semver.<span class="function"><span class="title">satisfies</span><span class="params">(<span class="string">'1.2.3'</span>, <span class="string">'1.x || &gt;=2.5.0 || 5.0.0 - 7.2.3'</span>)</span></span> <span class="comment">// true</span>
semver.<span class="function"><span class="title">gt</span><span class="params">(<span class="string">'1.2.3'</span>, <span class="string">'9.8.7'</span>)</span></span> <span class="comment">// false</span>
semver.<span class="function"><span class="title">lt</span><span class="params">(<span class="string">'1.2.3'</span>, <span class="string">'9.8.7'</span>)</span></span> <span class="comment">// true</span>
</code></pre><p>As a command-line utility:</p>
<pre><code>$ semver -h

Usage: semver &lt;<span class="built_in">version</span>&gt; [&lt;<span class="built_in">version</span>&gt; [...]] [-r &lt;range&gt; | -i &lt;inc&gt; | <span class="comment">--preid &lt;identifier&gt; | -l | -rv]</span>
Test <span class="keyword">if</span> <span class="built_in">version</span>(s) satisfy <span class="operator">the</span> supplied range(s), <span class="operator">and</span> <span class="built_in">sort</span> them.

Multiple versions <span class="operator">or</span> ranges may be supplied, unless increment
option is specified.  In that <span class="keyword">case</span>, only <span class="operator">a</span> single <span class="built_in">version</span> may
be used, <span class="operator">and</span> <span class="keyword">it</span> is incremented <span class="keyword">by</span> <span class="operator">the</span> specified level

Program exits successfully <span class="keyword">if</span> <span class="keyword">any</span> valid <span class="built_in">version</span> satisfies
all supplied ranges, <span class="operator">and</span> prints all satisfying versions.

If no versions are valid, <span class="operator">or</span> ranges are <span class="operator">not</span> satisfied,
<span class="keyword">then</span> exits failure.

Versions are printed <span class="operator">in</span> <span class="keyword">ascending</span> order, so supplying
multiple versions <span class="built_in">to</span> <span class="operator">the</span> utility will just <span class="built_in">sort</span> them.
</code></pre><h2 id="Versions">Versions</h2><p>A “version” is described by the <code>v2.0.0</code> specification found at<br><a href="http://semver.org/">http://semver.org/</a>.</p>
<p>A leading <code>&quot;=&quot;</code> or <code>&quot;v&quot;</code> character is stripped off and ignored.</p>
<h2 id="Ranges">Ranges</h2><p>A <code>version range</code> is a set of <code>comparators</code> which specify versions<br>that satisfy the range.</p>
<p>A <code>comparator</code> is composed of an <code>operator</code> and a <code>version</code>.  The set<br>of primitive <code>operators</code> is:</p>
<ul>
<li><code>&lt;</code> Less than</li>
<li><code>&lt;=</code> Less than or equal to</li>
<li><code>&gt;</code> Greater than</li>
<li><code>&gt;=</code> Greater than or equal to</li>
<li><code>=</code> Equal.  If no operator is specified, then equality is assumed,<br>so this operator is optional, but MAY be included.</li>
</ul>
<p>For example, the comparator <code>&gt;=1.2.7</code> would match the versions<br><code>1.2.7</code>, <code>1.2.8</code>, <code>2.5.3</code>, and <code>1.3.9</code>, but not the versions <code>1.2.6</code><br>or <code>1.1.0</code>.</p>
<p>Comparators can be joined by whitespace to form a <code>comparator set</code>,<br>which is satisfied by the <strong>intersection</strong> of all of the comparators<br>it includes.</p>
<p>A range is composed of one or more comparator sets, joined by <code>||</code>.  A<br>version matches a range if and only if every comparator in at least<br>one of the <code>||</code>-separated comparator sets is satisfied by the version.</p>
<p>For example, the range <code>&gt;=1.2.7 &lt;1.3.0</code> would match the versions<br><code>1.2.7</code>, <code>1.2.8</code>, and <code>1.2.99</code>, but not the versions <code>1.2.6</code>, <code>1.3.0</code>,<br>or <code>1.1.0</code>.</p>
<p>The range <code>1.2.7 || &gt;=1.2.9 &lt;2.0.0</code> would match the versions <code>1.2.7</code>,<br><code>1.2.9</code>, and <code>1.4.6</code>, but not the versions <code>1.2.8</code> or <code>2.0.0</code>.</p>
<h3 id="Prerelease_Tags">Prerelease Tags</h3><p>If a version has a prerelease tag (for example, <code>1.2.3-alpha.3</code>) then<br>it will only be allowed to satisfy comparator sets if at least one<br>comparator with the same <code>[major, minor, patch]</code> tuple also has a<br>prerelease tag.</p>
<p>For example, the range <code>&gt;1.2.3-alpha.3</code> would be allowed to match the<br>version <code>1.2.3-alpha.7</code>, but it would <em>not</em> be satisfied by<br><code>3.4.5-alpha.9</code>, even though <code>3.4.5-alpha.9</code> is technically “greater<br>than” <code>1.2.3-alpha.3</code> according to the SemVer sort rules.  The version<br>range only accepts prerelease tags on the <code>1.2.3</code> version.  The<br>version <code>3.4.5</code> <em>would</em> satisfy the range, because it does not have a<br>prerelease flag, and <code>3.4.5</code> is greater than <code>1.2.3-alpha.7</code>.</p>
<p>The purpose for this behavior is twofold.  First, prerelease versions<br>frequently are updated very quickly, and contain many breaking changes<br>that are (by the author’s design) not yet fit for public consumption.<br>Therefore, by default, they are excluded from range matching<br>semantics.</p>
<p>Second, a user who has opted into using a prerelease version has<br>clearly indicated the intent to use <em>that specific</em> set of<br>alpha/beta/rc versions.  By including a prerelease tag in the range,<br>the user is indicating that they are aware of the risk.  However, it<br>is still not appropriate to assume that they have opted into taking a<br>similar risk on the <em>next</em> set of prerelease versions.</p>
<h4 id="Prerelease_Identifiers">Prerelease Identifiers</h4><p>The method <code>.inc</code> takes an additional <code>identifier</code> string argument that<br>will append the value of the string as a prerelease identifier:</p>
<pre><code class="javascript">&gt; semver.inc(<span class="string">'1.2.3'</span>, <span class="string">'pre'</span>, <span class="string">'beta'</span>)
<span class="string">'1.2.4-beta.0'</span>
</code></pre>
<p>command-line example:</p>
<pre><code class="shell">$ semver 1.2.3 -i prerelease --preid beta&#10;1.2.4-beta.0
</code></pre>
<p>Which then can be used to increment further:</p>
<pre><code class="shell">$ semver 1.2.4-beta.0 -i prerelease&#10;1.2.4-beta.1
</code></pre>
<h3 id="Advanced_Range_Syntax">Advanced Range Syntax</h3><p>Advanced range syntax desugars to primitive comparators in<br>deterministic ways.</p>
<p>Advanced ranges may be combined in the same way as primitive<br>comparators using white space or <code>||</code>.</p>
<h4 id="Hyphen_Ranges_X-Y-Z_-_A-B-C">Hyphen Ranges <code>X.Y.Z - A.B.C</code></h4><p>Specifies an inclusive set.</p>
<ul>
<li><code>1.2.3 - 2.3.4</code> := <code>&gt;=1.2.3 &lt;=2.3.4</code></li>
</ul>
<p>If a partial version is provided as the first version in the inclusive<br>range, then the missing pieces are replaced with zeroes.</p>
<ul>
<li><code>1.2 - 2.3.4</code> := <code>&gt;=1.2.0 &lt;=2.3.4</code></li>
</ul>
<p>If a partial version is provided as the second version in the<br>inclusive range, then all versions that start with the supplied parts<br>of the tuple are accepted, but nothing that would be greater than the<br>provided tuple parts.</p>
<ul>
<li><code>1.2.3 - 2.3</code> := <code>&gt;=1.2.3 &lt;2.4.0</code></li>
<li><code>1.2.3 - 2</code> := <code>&gt;=1.2.3 &lt;3.0.0</code></li>
</ul>
<h4 id="X-Ranges_1-2-x_1-X_1-2-*_*">X-Ranges <code>1.2.x</code> <code>1.X</code> <code>1.2.*</code> <code>*</code></h4><p>Any of <code>X</code>, <code>x</code>, or <code>*</code> may be used to “stand in” for one of the<br>numeric values in the <code>[major, minor, patch]</code> tuple.</p>
<ul>
<li><code>*</code> := <code>&gt;=0.0.0</code> (Any version satisfies)</li>
<li><code>1.x</code> := <code>&gt;=1.0.0 &lt;2.0.0</code> (Matching major version)</li>
<li><code>1.2.x</code> := <code>&gt;=1.2.0 &lt;1.3.0</code> (Matching major and minor versions)</li>
</ul>
<p>A partial version range is treated as an X-Range, so the special<br>character is in fact optional.</p>
<ul>
<li><code>&quot;&quot;</code> (empty string) := <code>*</code> := <code>&gt;=0.0.0</code></li>
<li><code>1</code> := <code>1.x.x</code> := <code>&gt;=1.0.0 &lt;2.0.0</code></li>
<li><code>1.2</code> := <code>1.2.x</code> := <code>&gt;=1.2.0 &lt;1.3.0</code></li>
</ul>
<h4 id="Tilde_Ranges_~1-2-3_~1-2_~1">Tilde Ranges <code>~1.2.3</code> <code>~1.2</code> <code>~1</code></h4><p>Allows patch-level changes if a minor version is specified on the<br>comparator.  Allows minor-level changes if not.</p>
<ul>
<li><code>~1.2.3</code> := <code>&gt;=1.2.3 &lt;1.(2+1).0</code> := <code>&gt;=1.2.3 &lt;1.3.0</code></li>
<li><code>~1.2</code> := <code>&gt;=1.2.0 &lt;1.(2+1).0</code> := <code>&gt;=1.2.0 &lt;1.3.0</code> (Same as <code>1.2.x</code>)</li>
<li><code>~1</code> := <code>&gt;=1.0.0 &lt;(1+1).0.0</code> := <code>&gt;=1.0.0 &lt;2.0.0</code> (Same as <code>1.x</code>)</li>
<li><code>~0.2.3</code> := <code>&gt;=0.2.3 &lt;0.(2+1).0</code> := <code>&gt;=0.2.3 &lt;0.3.0</code></li>
<li><code>~0.2</code> := <code>&gt;=0.2.0 &lt;0.(2+1).0</code> := <code>&gt;=0.2.0 &lt;0.3.0</code> (Same as <code>0.2.x</code>)</li>
<li><code>~0</code> := <code>&gt;=0.0.0 &lt;(0+1).0.0</code> := <code>&gt;=0.0.0 &lt;1.0.0</code> (Same as <code>0.x</code>)</li>
<li><code>~1.2.3-beta.2</code> := <code>&gt;=1.2.3-beta.2 &lt;1.3.0</code> Note that prereleases in<br>the <code>1.2.3</code> version will be allowed, if they are greater than or<br>equal to <code>beta.2</code>.  So, <code>1.2.3-beta.4</code> would be allowed, but<br><code>1.2.4-beta.2</code> would not, because it is a prerelease of a<br>different <code>[major, minor, patch]</code> tuple.</li>
</ul>
<h4 id="Caret_Ranges_^1-2-3_^0-2-5_^0-0-4">Caret Ranges <code>^1.2.3</code> <code>^0.2.5</code> <code>^0.0.4</code></h4><p>Allows changes that do not modify the left-most non-zero digit in the<br><code>[major, minor, patch]</code> tuple.  In other words, this allows patch and<br>minor updates for versions <code>1.0.0</code> and above, patch updates for<br>versions <code>0.X &gt;=0.1.0</code>, and <em>no</em> updates for versions <code>0.0.X</code>.</p>
<p>Many authors treat a <code>0.x</code> version as if the <code>x</code> were the major<br>“breaking-change” indicator.</p>
<p>Caret ranges are ideal when an author may make breaking changes<br>between <code>0.2.4</code> and <code>0.3.0</code> releases, which is a common practice.<br>However, it presumes that there will <em>not</em> be breaking changes between<br><code>0.2.4</code> and <code>0.2.5</code>.  It allows for changes that are presumed to be<br>additive (but non-breaking), according to commonly observed practices.</p>
<ul>
<li><code>^1.2.3</code> := <code>&gt;=1.2.3 &lt;2.0.0</code></li>
<li><code>^0.2.3</code> := <code>&gt;=0.2.3 &lt;0.3.0</code></li>
<li><code>^0.0.3</code> := <code>&gt;=0.0.3 &lt;0.0.4</code></li>
<li><code>^1.2.3-beta.2</code> := <code>&gt;=1.2.3-beta.2 &lt;2.0.0</code> Note that prereleases in<br>the <code>1.2.3</code> version will be allowed, if they are greater than or<br>equal to <code>beta.2</code>.  So, <code>1.2.3-beta.4</code> would be allowed, but<br><code>1.2.4-beta.2</code> would not, because it is a prerelease of a<br>different <code>[major, minor, patch]</code> tuple.</li>
<li><code>^0.0.3-beta</code> := <code>&gt;=0.0.3-beta &lt;0.0.4</code>  Note that prereleases in the<br><code>0.0.3</code> version <em>only</em> will be allowed, if they are greater than or<br>equal to <code>beta</code>.  So, <code>0.0.3-pr.2</code> would be allowed.</li>
</ul>
<p>When parsing caret ranges, a missing <code>patch</code> value desugars to the<br>number <code>0</code>, but will allow flexibility within that value, even if the<br>major and minor versions are both <code>0</code>.</p>
<ul>
<li><code>^1.2.x</code> := <code>&gt;=1.2.0 &lt;2.0.0</code></li>
<li><code>^0.0.x</code> := <code>&gt;=0.0.0 &lt;0.1.0</code></li>
<li><code>^0.0</code> := <code>&gt;=0.0.0 &lt;0.1.0</code></li>
</ul>
<p>A missing <code>minor</code> and <code>patch</code> values will desugar to zero, but also<br>allow flexibility within those values, even if the major version is<br>zero.</p>
<ul>
<li><code>^1.x</code> := <code>&gt;=1.0.0 &lt;2.0.0</code></li>
<li><code>^0.x</code> := <code>&gt;=0.0.0 &lt;1.0.0</code></li>
</ul>
<h2 id="Functions">Functions</h2><p>All methods and classes take a final <code>loose</code> boolean argument that, if<br>true, will be more forgiving about not-quite-valid semver strings.<br>The resulting output will always be 100% strict, of course.</p>
<p>Strict-mode Comparators and Ranges will be strict about the SemVer<br>strings that they parse.</p>
<ul>
<li><code>valid(v)</code>: Return the parsed version, or null if it’s not valid.</li>
<li><code>inc(v, release)</code>: Return the version incremented by the release<br>type (<code>major</code>,   <code>premajor</code>, <code>minor</code>, <code>preminor</code>, <code>patch</code>,<br><code>prepatch</code>, or <code>prerelease</code>), or null if it’s not valid<ul>
<li><code>premajor</code> in one call will bump the version up to the next major<br>version and down to a prerelease of that major version.<br><code>preminor</code>, and <code>prepatch</code> work the same way.</li>
<li>If called from a non-prerelease version, the <code>prerelease</code> will work the<br>same as <code>prepatch</code>. It increments the patch version, then makes a<br>prerelease. If the input version is already a prerelease it simply<br>increments it.</li>
</ul>
</li>
<li><code>major(v)</code>: Return the major version number.</li>
<li><code>minor(v)</code>: Return the minor version number.</li>
<li><code>patch(v)</code>: Return the patch version number.</li>
</ul>
<h3 id="Comparison">Comparison</h3><ul>
<li><code>gt(v1, v2)</code>: <code>v1 &gt; v2</code></li>
<li><code>gte(v1, v2)</code>: <code>v1 &gt;= v2</code></li>
<li><code>lt(v1, v2)</code>: <code>v1 &lt; v2</code></li>
<li><code>lte(v1, v2)</code>: <code>v1 &lt;= v2</code></li>
<li><code>eq(v1, v2)</code>: <code>v1 == v2</code> This is true if they’re logically equivalent,<br>even if they’re not the exact same string.  You already know how to<br>compare strings.</li>
<li><code>neq(v1, v2)</code>: <code>v1 != v2</code> The opposite of <code>eq</code>.</li>
<li><code>cmp(v1, comparator, v2)</code>: Pass in a comparison string, and it’ll call<br>the corresponding function above.  <code>&quot;===&quot;</code> and <code>&quot;!==&quot;</code> do simple<br>string comparison, but are included for completeness.  Throws if an<br>invalid comparison string is provided.</li>
<li><code>compare(v1, v2)</code>: Return <code>0</code> if <code>v1 == v2</code>, or <code>1</code> if <code>v1</code> is greater, or <code>-1</code> if<br><code>v2</code> is greater.  Sorts in ascending order if passed to <code>Array.sort()</code>.</li>
<li><code>rcompare(v1, v2)</code>: The reverse of compare.  Sorts an array of versions<br>in descending order when passed to <code>Array.sort()</code>.</li>
<li><code>diff(v1, v2)</code>: Returns difference between two versions by the release type<br>(<code>major</code>, <code>premajor</code>, <code>minor</code>, <code>preminor</code>, <code>patch</code>, <code>prepatch</code>, or <code>prerelease</code>),<br>or null if the versions are the same.</li>
</ul>
<h3 id="Ranges-1">Ranges</h3><ul>
<li><code>validRange(range)</code>: Return the valid range or null if it’s not valid</li>
<li><code>satisfies(version, range)</code>: Return true if the version satisfies the<br>range.</li>
<li><code>maxSatisfying(versions, range)</code>: Return the highest version in the list<br>that satisfies the range, or <code>null</code> if none of them do.</li>
<li><code>gtr(version, range)</code>: Return <code>true</code> if version is greater than all the<br>versions possible in the range.</li>
<li><code>ltr(version, range)</code>: Return <code>true</code> if version is less than all the<br>versions possible in the range.</li>
<li><code>outside(version, range, hilo)</code>: Return true if the version is outside<br>the bounds of the range in either the high or low direction.  The<br><code>hilo</code> argument must be either the string <code>&#39;&gt;&#39;</code> or <code>&#39;&lt;&#39;</code>.  (This is<br>the function called by <code>gtr</code> and <code>ltr</code>.)</li>
</ul>
<p>Note that, since ranges may be non-contiguous, a version might not be<br>greater than a range, less than a range, <em>or</em> satisfy a range!  For<br>example, the range <code>1.2 &lt;1.2.9 || &gt;2.0.0</code> would have a hole from <code>1.2.9</code><br>until <code>2.0.0</code>, so the version <code>1.2.10</code> would not be greater than the<br>range (because <code>2.0.1</code> satisfies, which is higher), nor less than the<br>range (since <code>1.2.8</code> satisfies, which is lower), and it also does not<br>satisfy the range.</p>
<p>If you want to know if a version satisfies or does not satisfy a<br>range, use the <code>satisfies(version, range)</code> function.</p>
