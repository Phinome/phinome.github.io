<h1 id="graceful-fs">graceful-fs</h1><p>graceful-fs functions as a drop-in replacement for the fs module,<br>making various improvements.</p>
<p>The improvements are meant to normalize behavior across different<br>platforms and environments, and to make filesystem access more<br>resilient to errors.</p>
<h2 id="Improvements_over_fs_module">Improvements over <a href="http://api.nodejs.org/fs.html">fs module</a></h2><p>graceful-fs:</p>
<ul>
<li>Queues up <code>open</code> and <code>readdir</code> calls, and retries them once<br>something closes if there is an EMFILE error from too many file<br>descriptors.</li>
<li>fixes <code>lchmod</code> for Node versions prior to 0.6.2.</li>
<li>implements <code>fs.lutimes</code> if possible. Otherwise it becomes a noop.</li>
<li>ignores <code>EINVAL</code> and <code>EPERM</code> errors in <code>chown</code>, <code>fchown</code> or<br><code>lchown</code> if the user isnâ€™t root.</li>
<li>makes <code>lchmod</code> and <code>lchown</code> become noops, if not available.</li>
<li>retries reading a file if <code>read</code> results in EAGAIN error.</li>
</ul>
<p>On Windows, it retries renaming a file for up to one second if <code>EACCESS</code><br>or <code>EPERM</code> error occurs, likely because antivirus software has locked<br>the directory.</p>
<h2 id="USAGE">USAGE</h2><pre><code class="javascript"><span class="comment">// use just like fs</span>
<span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'graceful-fs'</span>)

<span class="comment">// now go and do stuff with it...</span>
fs.readFileSync(<span class="string">'some-file-or-whatever'</span>)
</code></pre>
