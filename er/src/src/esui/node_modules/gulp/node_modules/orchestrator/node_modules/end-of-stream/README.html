<h1 id="end-of-stream">end-of-stream</h1><p>A node module that calls a callback when a readable/writable/duplex stream has completed or failed.</p>
<pre><code>npm <span class="operator"><span class="keyword">install</span> <span class="keyword">end</span>-<span class="keyword">of</span>-stream</span>
</code></pre><h2 id="Usage">Usage</h2><p>Simply pass a stream and a callback to the <code>eos</code>.<br>Both legacy streams and streams2 are supported.</p>
<pre><code class="js"><span class="keyword">var</span> eos = <span class="built_in">require</span>(<span class="string">'end-of-stream'</span>);

eos(readableStream, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>{
    <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">'stream had an error or closed early'</span>);
    <span class="built_in">console</span>.log(<span class="string">'stream has ended'</span>);
});

eos(writableStream, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>{
    <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">'stream had an error or closed early'</span>);
    <span class="built_in">console</span>.log(<span class="string">'stream has finished'</span>);
});

eos(duplexStream, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>{
    <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">'stream had an error or closed early'</span>);
    <span class="built_in">console</span>.log(<span class="string">'stream has ended and finished'</span>);
});

eos(duplexStream, {readable:<span class="literal">false</span>}, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>{
    <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">'stream had an error or closed early'</span>);
    <span class="built_in">console</span>.log(<span class="string">'stream has ended but might still be writable'</span>);
});

eos(duplexStream, {writable:<span class="literal">false</span>}, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>{
    <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">'stream had an error or closed early'</span>);
    <span class="built_in">console</span>.log(<span class="string">'stream has ended but might still be readable'</span>);
});

eos(readableStream, {error:<span class="literal">false</span>}, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>{
    <span class="comment">// do not treat emit('error', err) as a end-of-stream</span>
});
</code></pre>
<h2 id="License">License</h2><p>MIT</p>
